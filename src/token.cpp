/**
 * @file: token.cpp
 * @description: Реализация токенов языка "Троица"
 * @dependencies: token.hpp
 * @created: 2026-02-02
 */

#include "troitsa/token.hpp"

namespace Троица {

std::string имяТипаТокена(ТипТокена тип) {
    switch (тип) {
        case ТипТокена::КонецФайла: return "КонецФайла";
        
        // Литералы
        case ТипТокена::ЧислоЦелое: return "ЧислоЦелое";
        case ТипТокена::ЧислоВещественное: return "ЧислоВещественное";
        case ТипТокена::ЧислоТроичное: return "ЧислоТроичное";
        case ТипТокена::Строка: return "Строка";
        case ТипТокена::Символ: return "Символ";
        case ТипТокена::Идентификатор: return "Идентификатор";
        
        // Ключевые слова
        case ТипТокена::КлючФункция: return "функция";
        case ТипТокена::КлючТип: return "тип";
        case ТипТокена::КлючПусть: return "пусть";
        case ТипТокена::КлючИзменяемый: return "изм";
        case ТипТокена::КлючВернуть: return "вернуть";
        case ТипТокена::КлючЕсли: return "если";
        case ТипТокена::КлючИначе: return "иначе";
        case ТипТокена::КлючВыбор: return "выбор";
        case ТипТокена::КлючСопоставить: return "сопоставить";
        case ТипТокена::КлючЦикл: return "цикл";
        case ТипТокена::КлючПока: return "пока";
        case ТипТокена::КлючДля: return "для";
        case ТипТокена::КлючВ: return "в";
        case ТипТокена::КлючПрервать: return "прервать";
        case ТипТокена::КлючПродолжить: return "продолжить";
        case ТипТокена::КлючЭффект: return "эффект";
        case ТипТокена::КлючС: return "с";
        case ТипТокена::КлючОбработать: return "обработать";
        case ТипТокена::КлючЗадача: return "задача";
        case ТипТокена::КлючПод: return "под";
        case ТипТокена::КлючМакрос: return "макрос";
        case ТипТокена::КлючЦитата: return "цитата";
        case ТипТокена::КлючВладеть: return "владеть";
        case ТипТокена::КлючЛинейный: return "линейный";
        
        // Троичные литералы
        case ТипТокена::КлючДа: return "Да";
        case ТипТокена::КлючНет: return "Нет";
        case ТипТокена::КлючМожет: return "Может";
        case ТипТокена::КлючЕсть: return "Есть";
        case ТипТокена::КлючНеизвестно: return "Неизвестно";
        
        // Типы
        case ТипТокена::КлючТрит: return "Трит";
        case ТипТокена::КлючТрайт: return "Трайт";
        case ТипТокена::КлючГармония: return "Гармония";
        case ТипТокена::КлючСтрока: return "Строка";
        case ТипТокена::КлючЛогика: return "Логика";
        case ТипТокена::КлючВозможно: return "Возможно";
        case ТипТокена::КлючСписок: return "Список";
        case ТипТокена::КлючСловарь: return "Словарь";
        case ТипТокена::КлючРезультат: return "Результат";
        
        // Операторы
        case ТипТокена::ОпПлюс: return "+";
        case ТипТокена::ОпМинус: return "-";
        case ТипТокена::ОпУмножить: return "*";
        case ТипТокена::ОпДелить: return "/";
        case ТипТокена::ОпОстаток: return "%";
        case ТипТокена::ОпРавно: return "==";
        case ТипТокена::ОпНеРавно: return "!=";
        case ТипТокена::ОпМеньше: return "<";
        case ТипТокена::ОпБольше: return ">";
        case ТипТокена::ОпМеньшеРавно: return "<=";
        case ТипТокена::ОпБольшеРавно: return ">=";
        case ТипТокена::ОпИ: return "И";
        case ТипТокена::ОпИли: return "ИЛИ";
        case ТипТокена::ОпНе: return "НЕ";
        case ТипТокена::ОпКонсенсус: return "КОНСЕНСУС";
        case ТипТокена::ОпПрисвоить: return "=";
        case ТипТокена::ОпПлюсПрисвоить: return "+=";
        case ТипТокена::ОпМинусПрисвоить: return "-=";
        
        // Разделители
        case ТипТокена::СкобкаКруглаяОткр: return "(";
        case ТипТокена::СкобкаКруглаяЗакр: return ")";
        case ТипТокена::СкобкаФигурнаяОткр: return "{";
        case ТипТокена::СкобкаФигурнаяЗакр: return "}";
        case ТипТокена::СкобкаКвадратнаяОткр: return "[";
        case ТипТокена::СкобкаКвадратнаяЗакр: return "]";
        case ТипТокена::Запятая: return ",";
        case ТипТокена::Точка: return ".";
        case ТипТокена::Двоеточие: return ":";
        case ТипТокена::ТочкаЗапятая: return ";";
        case ТипТокена::Стрелка: return "->";
        case ТипТокена::ЖирнаяСтрелка: return "=>";
        case ТипТокена::Вертикальная: return "|";
        case ТипТокена::Амперсанд: return "&";
        case ТипТокена::Диапазон: return "..";
        
        // Специальные
        case ТипТокена::НоваяСтрока: return "НоваяСтрока";
        case ТипТокена::Комментарий: return "Комментарий";
        case ТипТокена::Ошибка: return "Ошибка";
    }
    return "Неизвестный";
}

bool этоКлючевоеСлово(ТипТокена тип) noexcept {
    switch (тип) {
        case ТипТокена::КлючФункция:
        case ТипТокена::КлючТип:
        case ТипТокена::КлючПусть:
        case ТипТокена::КлючИзменяемый:
        case ТипТокена::КлючВернуть:
        case ТипТокена::КлючЕсли:
        case ТипТокена::КлючИначе:
        case ТипТокена::КлючВыбор:
        case ТипТокена::КлючСопоставить:
        case ТипТокена::КлючЦикл:
        case ТипТокена::КлючПока:
        case ТипТокена::КлючДля:
        case ТипТокена::КлючВ:
        case ТипТокена::КлючПрервать:
        case ТипТокена::КлючПродолжить:
        case ТипТокена::КлючЭффект:
        case ТипТокена::КлючС:
        case ТипТокена::КлючОбработать:
        case ТипТокена::КлючЗадача:
        case ТипТокена::КлючПод:
        case ТипТокена::КлючМакрос:
        case ТипТокена::КлючЦитата:
        case ТипТокена::КлючВладеть:
        case ТипТокена::КлючЛинейный:
        case ТипТокена::КлючДа:
        case ТипТокена::КлючНет:
        case ТипТокена::КлючМожет:
        case ТипТокена::КлючЕсть:
        case ТипТокена::КлючНеизвестно:
        case ТипТокена::КлючТрит:
        case ТипТокена::КлючТрайт:
        case ТипТокена::КлючГармония:
        case ТипТокена::КлючСтрока:
        case ТипТокена::КлючЛогика:
        case ТипТокена::КлючВозможно:
        case ТипТокена::КлючСписок:
        case ТипТокена::КлючСловарь:
        case ТипТокена::КлючРезультат:
            return true;
        default:
            return false;
    }
}

bool этоОператор(ТипТокена тип) noexcept {
    switch (тип) {
        case ТипТокена::ОпПлюс:
        case ТипТокена::ОпМинус:
        case ТипТокена::ОпУмножить:
        case ТипТокена::ОпДелить:
        case ТипТокена::ОпОстаток:
        case ТипТокена::ОпРавно:
        case ТипТокена::ОпНеРавно:
        case ТипТокена::ОпМеньше:
        case ТипТокена::ОпБольше:
        case ТипТокена::ОпМеньшеРавно:
        case ТипТокена::ОпБольшеРавно:
        case ТипТокена::ОпИ:
        case ТипТокена::ОпИли:
        case ТипТокена::ОпНе:
        case ТипТокена::ОпКонсенсус:
        case ТипТокена::ОпПрисвоить:
        case ТипТокена::ОпПлюсПрисвоить:
        case ТипТокена::ОпМинусПрисвоить:
            return true;
        default:
            return false;
    }
}

} // namespace Троица
