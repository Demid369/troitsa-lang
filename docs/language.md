# Язык программирования "Троица"

Русскоязычный язык программирования с троичной логикой для системы T-9.

## Основы

### Типы данных

| Тип | Описание | Пример |
|-----|----------|--------|
| `Целое` | Целые числа | `42`, `-17`, `369` |
| `Дробное` | Числа с плавающей точкой | `3.14`, `-0.5` |
| `Строка` | Текст в кавычках | `"Привет"` |
| `Логика` | Булево значение | `истина`, `ложь` |
| `Трит` | Троичное значение | `Да`, `Нет`, `Может` |
| `Гармония` | 9 тритов | `гармония(369)` |
| `Список` | Массив значений | `[1, 2, 3]` |

### Троичные значения

```троица
пусть да = Да       // +1, истина, утверждение
пусть нет = Нет     // -1, ложь, отрицание  
пусть может = Может // 0, неопределённость, баланс
```

## Переменные

### Объявление

```троица
пусть имя = "Троица"
пусть число = 369
пусть трит = Да
```

### Присваивание

```троица
пусть х = 10
х = 20  // изменение значения
```

## Операторы

### Арифметические

| Оператор | Описание | Пример |
|----------|----------|--------|
| `+` | Сложение | `3 + 6` → `9` |
| `-` | Вычитание | `9 - 3` → `6` |
| `*` | Умножение | `3 * 6` → `18` |
| `/` | Деление | `18 / 3` → `6` |
| `%` | Остаток | `10 % 3` → `1` |

### Сравнения

| Оператор | Описание |
|----------|----------|
| `==` | Равно |
| `!=` | Не равно |
| `<` | Меньше |
| `>` | Больше |
| `<=` | Меньше или равно |
| `>=` | Больше или равно |

### Логические (двоичные)

| Оператор | Описание |
|----------|----------|
| `и` | Логическое И |
| `или` | Логическое ИЛИ |
| `не` | Логическое НЕ |

## Троичная логика

### Операция И (MIN)

Возвращает минимальное значение:

```
      | Нет  | Может | Да
------+------+-------+-----
Нет   | Нет  | Нет   | Нет
Может | Нет  | Может | Может
Да    | Нет  | Может | Да
```

```троица
печать(Да и Да)      // Да
печать(Да и Может)   // Может
печать(Да и Нет)     // Нет
```

### Операция ИЛИ (MAX)

Возвращает максимальное значение:

```
      | Нет   | Может | Да
------+-------+-------+----
Нет   | Нет   | Может | Да
Может | Может | Может | Да
Да    | Да    | Да    | Да
```

```троица
печать(Нет или Нет)    // Нет
печать(Нет или Может)  // Может
печать(Нет или Да)     // Да
```

### Операция НЕ (инверсия)

```
Нет   → Да
Может → Может
Да    → Нет
```

```троица
печать(не Да)    // Нет
печать(не Нет)   // Да
печать(не Может) // Может
```

### Консенсус

Если оба значения равны — возвращает это значение, иначе — `Может`:

```троица
печать(консенсус(Да, Да))     // Да
печать(консенсус(Нет, Нет))   // Нет
печать(консенсус(Да, Нет))    // Может
печать(консенсус(Да, Может))  // Может
```

## Условия

### Если

```троица
пусть х = 10

если х > 0 {
    печать("Положительное")
}
```

### Если-иначе

```троица
пусть х = -5

если х > 0 {
    печать("Положительное")
} иначе {
    печать("Не положительное")
}
```

### Если-иначе если

```троица
пусть х = 0

если х > 0 {
    печать("Положительное")
} иначе если х < 0 {
    печать("Отрицательное")
} иначе {
    печать("Ноль")
}
```

### Выбор (троичный switch)

```троица
пусть состояние = Может

выбор состояние {
    Да: печать("Утверждение")
    Нет: печать("Отрицание")
    Может: печать("Неопределённость")
}
```

## Циклы

### Пока

```троица
пусть и = 0
пока и < 5 {
    печать(и)
    и = и + 1
}
```

### Для

```троица
для и в диапазон(5) {
    печать(и)  // 0, 1, 2, 3, 4
}

для элемент в [1, 2, 3] {
    печать(элемент)
}
```

### Цикл (бесконечный)

```троица
пусть и = 0
цикл {
    печать(и)
    и = и + 1
    если и >= 5 {
        прервать
    }
}
```

### Управление циклом

```троица
// Прервать цикл
прервать

// Перейти к следующей итерации
продолжить
```

## Функции

### Объявление

```троица
функция приветствие() {
    печать("Привет!")
}

функция сложить(а, б) {
    вернуть а + б
}
```

### Вызов

```троица
приветствие()
пусть сумма = сложить(3, 6)
печать(сумма)  // 9
```

### Рекурсия

```троица
функция факториал(н) {
    если н <= 1 {
        вернуть 1
    }
    вернуть н * факториал(н - 1)
}

печать(факториал(5))  // 120
```

## Встроенные функции

### Ввод/вывод

| Функция | Описание |
|---------|----------|
| `печать(значение)` | Вывод на экран |
| `ввод()` | Чтение строки |

### Преобразования

| Функция | Описание |
|---------|----------|
| `вТрит(число)` | Число в трит (-1, 0, +1) |
| `вГармонию(число)` | Число в гармонию (9 тритов) |
| `вЦелое(значение)` | В целое число |
| `вСтроку(значение)` | В строку |

### Троичные операции

| Функция | Описание |
|---------|----------|
| `консенсус(а, б)` | Консенсус двух тритов |
| `модуль(гармония)` | Абсолютное значение |

### Коллекции

| Функция | Описание |
|---------|----------|
| `длина(список)` | Длина списка/строки |
| `диапазон(н)` | Список [0, 1, ..., н-1] |
| `список(...)` | Создать список |

### Математика

| Функция | Описание |
|---------|----------|
| `модуль(х)` | Абсолютное значение |
| `мин(а, б)` | Минимум |
| `макс(а, б)` | Максимум |

## Комментарии

```троица
// Однострочный комментарий

/*
   Многострочный
   комментарий
*/
```

## Примеры программ

### Привет, мир

```троица
печать("Привет, мир!")
```

### Факториал

```троица
функция факториал(н) {
    если н <= 1 { вернуть 1 }
    вернуть н * факториал(н - 1)
}

печать(факториал(5))  // 120
```

### Троичное голосование

```троица
функция голосование(голоса) {
    пусть да_счёт = 0
    пусть нет_счёт = 0
    
    для голос в голоса {
        если голос == Да {
            да_счёт = да_счёт + 1
        } иначе если голос == Нет {
            нет_счёт = нет_счёт + 1
        }
    }
    
    если да_счёт > нет_счёт {
        вернуть Да
    } иначе если нет_счёт > да_счёт {
        вернуть Нет
    } иначе {
        вернуть Может
    }
}

пусть голоса = [Да, Да, Нет, Может, Да]
печать(голосование(голоса))  // Да
```

### Числа Фибоначчи

```троица
функция фибоначчи(н) {
    если н <= 1 { вернуть н }
    вернуть фибоначчи(н - 1) + фибоначчи(н - 2)
}

для и в диапазон(10) {
    печать(фибоначчи(и))
}
```

## Классы

### Объявление класса

```троица
класс Трит {
    пусть значение = 0
    
    функция создать(з) {
        этот.значение = з
    }
    
    функция И(другой) {
        если этот.значение < другой.значение {
            вернуть этот.значение
        }
        вернуть другой.значение
    }
    
    функция Или(другой) {
        если этот.значение > другой.значение {
            вернуть этот.значение
        }
        вернуть другой.значение
    }
    
    функция Не() {
        вернуть 0 - этот.значение
    }
}
```

### Создание объекта

```троица
пусть т = новый Трит()
т.создать(1)
печать(т.значение)  // 1
```

### Наследование

```троица
класс Гармония наследует Трит {
    пусть триты = [0, 0, 0, 0, 0, 0, 0, 0, 0]
    
    функция вЧисло() {
        пусть результат = 0
        пусть степень = 1
        для и в диапазон(9) {
            результат = результат + этот.триты[и] * степень
            степень = степень * 3
        }
        вернуть результат
    }
}
```

## Индексация

### Списки

```троица
пусть список = [1, 2, 3, 4, 5]
печать(список[0])      // 1
печать(список[2])      // 3
список[0] = 10
печать(список[0])      // 10
```

### Строки

```троица
пусть текст = "Привет"
печать(текст[0])       // П
печать(текст[1])       // р
печать(длина(текст))   // 6
```

## Словари

### Создание

```троица
пусть человек = {
    "имя": "Иван",
    "возраст": 30,
    "статус": Да
}
```

### Доступ

```троица
печать(человек["имя"])      // Иван
печать(человек["возраст"])  // 30

человек["город"] = "Москва"
печать(человек["город"])    // Москва
```

### Проверка ключа

```троица
если "имя" в человек {
    печать("Имя есть")
}
```

## Модули

### Импорт модуля

```троица
импорт "математика.t9"
импорт "троичная_логика.t9" как ТЛ
```

### Импорт конкретных функций

```троица
импорт {синус, косинус} из "математика.t9"
```

### Экспорт

```троица
// В файле мой_модуль.t9
экспорт функция моя_функция() {
    вернуть 42
}

экспорт класс МойКласс {
    // ...
}
```

## Философия языка

1. **Троичность** — три состояния вместо двух
2. **Русский синтаксис** — код на родном языке
3. **Баланс** — система стремится к гармонии
4. **Простота** — минимум конструкций, максимум выразительности
5. **Самодостаточность** — язык может описывать сам себя

---

*"3, 6, 9 — ключ к вселенной"*
